# Place this file into /config/templates.yaml
# Ensure "configuration.yaml" has this line (without comment):
# template: !include templates.yaml
- light:
    - unique_id: disney_castle_light
      name: "Disney Castle Light"
      state: "{{ is_state('input_boolean.disney_castle_power', 'on') }}"
      rgb: "({{states('input_number.disney_castle_r') | int}}, {{states('input_number.disney_castle_g') | int}}, {{states('input_number.disney_castle_b') | int}})"
      level: "{{states('input_number.disney_castle_brightness') | int}}"
      turn_on:
        action: script.disney_castle_turn_on
      turn_off:
        action: script.disney_castle_turn_off
      set_level:
        action: input_number.set_value
        data:
          value: "{{ brightness }}"
          entity_id: input_number.disney_castle_brightness
      set_rgb:
        - action: input_number.set_value
          data:
            value: "{{ r }}"
            entity_id: input_number.disney_castle_r
        - action: input_number.set_value
          data:
            value: "{{ g }}"
            entity_id: input_number.disney_castle_g
        - action: input_number.set_value
          data:
            value: "{{ b }}"
            entity_id: input_number.disney_castle_b
        - action: script.disney_castle_set_color
          data:
            rgb_color:
              - "{{ r }}"
              - "{{ g }}"
              - "{{ b }}"
